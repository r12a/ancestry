<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>Marriage form</title>
<link href="../../lib/style.css" rel="stylesheet">
<script src="formentrylookup.js"></script>

<style>
td { vertical-align: top; padding-left: 1em; }
details { margin-left: 2em; }
</style>

<script>
// read in project
var project
parameters = location.search.split('&');
parameters[0] = parameters[0].substring(1);
for (var p=0;p<parameters.length;p++) {  
	pairs = parameters[p].split('=');
	if (pairs[0] == 'project' && pairs[1]) project = pairs[1] 
	}

// load the appropriate db file	
if (! project) alert('Specify the project name in the URL, using ?project=...')
var db = document.createElement('script')
db.src = '../../'+project+'/db.js'
db.async = false
document.head.appendChild(db)
</script>

<script>

function makeNotes (content, target) {
	segments = content.split('\n')
	var out = ''
	for (var i=0;i<segments.length;i++) out += '<p>&quot;'+target+': '+segments[i]+'&quot;,<p>'
	document.getElementById(target).innerHTML = out
	}




function autoPropagate (person) {
    // Pull up a list of ids for related people, and fill in some fields automatically
    if (person === '') {
        alert('No id provided.')
        return
        }
    
    // populate the places pulldown
    out = '<option value="">select one</option>\n'
    for (place in placeIndex) {
        out += `<option value="${ placeIndex[place] }">${ placeIndex[place].split(':')[0] }</option>,\n`
        }
    document.getElementById('gpsList').innerHTML = out

    
    // create a list of relatives to the right
	listRelations(person)

    
    
    // fill in the page building data

    // first find the marriage data
    var spouse = document.getElementById('spouseIdIn').value
    if (spouse === '') return
    
    var dataItems
    if (db[person] && db[person].recordData.marriages && db[person].recordData.marriages[spouse]) dataItems = db[person].recordData.marriages[spouse]
    else if (db[spouse] && db[spouse].recordData.marriages && db[spouse].recordData.marriages[person]) dataItems = db[spouse].recordData.marriages[person]
    
    if (dataItems === null) {
        alert("Marriage data not found for this couple.")
        return
        }
   
    


    // fill in name fields from the db
	if (db[person]) {
		// get this person's name and id
		if (db[person].male) {
			document.getElementById('groomIn').value = db[person].g+' '+db[person].f
			document.getElementById('gidIn').value= person
			}
		else {
			document.getElementById('brideIn').value = db[person].g+' '+db[person].f
			document.getElementById('bidIn').value= person
			}

		if ((fid = db[person].father) && db[person].male) {
			if (db[fid]) {
                document.getElementById('gfidIn').value = fid
			    document.getElementById('gfatherIn').value = db[fid].g+' '+db[fid].f
                }
            else document.getElementById('gfatherIn').value = db[person].father
			}
		if ((fid = db[person].father) && ! db[person].male) {
			if (db[fid]) {
                document.getElementById('bfidIn').value = fid;
                document.getElementById('bfatherIn').value = db[fid].g+' '+db[fid].f
                }
            else document.getElementById('bfatherIn').value = db[person].father
			}
        }



	if (db[spouse]) {
		// get this person's name and id
		if (db[spouse].male) {
			document.getElementById('groomIn').value = db[spouse].g+' '+db[spouse].f
			document.getElementById('gidIn').value= spouse
			}
		else {
			document.getElementById('brideIn').value = db[spouse].g+' '+db[spouse].f
			document.getElementById('bidIn').value= spouse
			}
        // get their father's name & id
		if ((fid = db[spouse].father) && db[spouse].male) {
			if (db[fid]) {
                document.getElementById('gfidIn').value = fid
                document.getElementById('gfatherIn').value = db[fid].g+' '+db[fid].f
			    }
            else document.getElementById('gfatherIn').value = db[spouse].father
            }
		if ((fid = db[spouse].father) && ! db[spouse].male) {
			if (db[fid]) {
                document.getElementById('bfidIn').value = fid
			    document.getElementById('bfatherIn').value = db[fid].g+' '+db[fid].f
                }
            else document.getElementById('bfatherIn').value = db[spouse].father
			}
        }


    // insert existing data from db
    if (dataItems) {
        var notes = ''
        var fnotes = ''
        var discussion = ''
        for (var i=0;i<dataItems.length;i++) {
            var fields = dataItems[i].split(':')
            switch (fields[0]) {
                case 'date': document.getElementById('dateIn').value = fields[1].trim(); break
                case 'place': document.getElementById('marrPlaceIn').value = fields[1].trim(); break
                case 'deathPlace': document.getElementById('deathPlaceIn').value = fields[1].trim(); break
                case 'gage': document.getElementById('gageIn').value = fields[1].trim(); break
                case 'bage': document.getElementById('bageIn').value = fields[1].trim(); break
                case 'cause': document.getElementById('causeIn').value = fields[1].trim(); break
                case 'informant': document.getElementById('informantIn').value = fields[1].trim(); break
                case 'gparish': document.getElementById('gparishIn').value = fields[1].trim(); break
                case 'bparish': document.getElementById('bparishIn').value = fields[1].trim(); break
                case 'gstatus': document.getElementById('gstatusIn').value = fields[1].trim(); break
                case 'bstatus': document.getElementById('bstatusIn').value = fields[1].trim(); break
                case 'gocc': document.getElementById('goccIn').value = fields[1].trim(); break
                case 'bocc': document.getElementById('boccIn').value = fields[1].trim(); break
                case 'gfocc': document.getElementById('gfoccIn').value = fields[1].trim(); break
                case 'bfocc': document.getElementById('bfoccIn').value = fields[1].trim(); break
                case 'witnesses': document.getElementById('witnessesIn').value = fields[1].trim(); break
                case 'by': document.getElementById('byIn').value = fields[1].trim(); break
                case 'denomination': document.getElementById('denominationIn').value = fields[1].trim(); break
                case 'gps':
                    document.getElementById('gpsPlace').value = fields[1].trim().replace(/https/,'').trim()
                    document.getElementById('gpsCoords').value =fields[2].replace('//maps.google.com/maps?q=','').trim()
                    break
                case 'note': notes += fields[1].trim()+'\n'
                case 'fnote': fnotes += fields[1].trim()+'\n'
                case 'discussion': discussion += fields[1].trim()+'\n'
                }
            document.getElementById('censusNotes').value = notes
            document.getElementById('censusFNotes').value = fnotes
            document.getElementById('censusDisc').value = discussion
            }
        draftResult()
        }

	}



function addQuotesTo (content) {
	var out = ''
	var lines = content.split('\n')
	for (var i=0;i<lines.length;i++) {
		if (lines[i].match(':')) {
			var parts = lines[i].split(':')
			parts[0] = parts[0].replace(/ /g,'').replace(/'/g,'')
			parts[1] = parts[1].replace(/[\s]+/g,' ')
			out += '"['+parts[0]+': '+parts[1].trim()+']"'
			out += ',\n'
			}
		else if (lines[i].match('\t')) {
			var parts = lines[i].split('\t')
			parts[0] = parts[0].replace(/ /g,'').replace(/'/g,'')
			parts[1] = parts[1].replace(/[\s]+/g,' ')
			out += '"['+parts[0]+': '+parts[1].trim()+']"'
			out += ',\n'
			}
		}
	return out
	}

function clearAll () {
	inputs = document.querySelectorAll('input, textarea')
	for (var i=0;i<inputs.length;i++) inputs[i].value = ''
	
	divs =  document.getElementById('draft').querySelectorAll('div')
	for (i=0;i<divs.length;i++) divs[i].textContent = ''
	document.getElementById('discussion').textContent = '"discussion: "'
	document.getElementById('start').textContent = '"marriages": {'
	document.getElementById('spouseId').textContent = ': ['
	document.getElementById('arrayEnd').textContent = "]"
	document.getElementById('end').textContent = "}"
	}




function draftResult () {
    // called each time a field is changed; updates the output
    
    document.getElementById('id').textContent = `"id: ${ document.getElementById('idIn').value.trim() }",`
    
    if (document.getElementById('yearIn').value.trim()) document.getElementById('year').textContent = `"year: ${ document.getElementById('yearIn').value.trim() }",` 
    else document.getElementById('year').textContent = ''
    
    if (document.getElementById('dateIn').value.trim()) document.getElementById('date').textContent = `"date: ${ document.getElementById('dateIn').value.trim() }",` 
    else document.getElementById('date').textContent = ''
    
    if (document.getElementById('spouseIdIn').value.trim()) document.getElementById('spouseId').textContent = `"${ document.getElementById('spouseIdIn').value.trim() }": [` 
    else document.getElementById('spouseId').textContent = 'TBD: ['





// certificate
    if (document.getElementById('certImageIn').value.trim()) document.getElementById('certImage').textContent = `"record: Marriage record  url:records/${ document.getElementById('certImageIn').value.trim() }",` 
    else document.getElementById('certImage').textContent = ''
    
    if (document.getElementById('certSourceIn').value.trim() || document.getElementById('certSourceURLIn').value.trim()) document.getElementById('certSource').textContent = `\n"SOURCE: ${ document.getElementById('certSourceIn').value.trim() } ${ document.getElementById('certSourceURLIn').value }",` 
    else document.getElementById('certSource').textContent = ''

    if (document.getElementById('certAtIn').value.trim()) 
        document.getElementById('certAt').textContent = `"[At: ${ document.getElementById('certAtIn').value.trim() }]",`
    else document.getElementById('certAt').textContent = ''
 
    if (document.getElementById('certWhenIn').value.trim()) 
        document.getElementById('certWhen').textContent = `"[When: ${ document.getElementById('certWhenIn').value.trim() }]",`
    else document.getElementById('certWhen').textContent = ''
 
    if (document.getElementById('certNameIn').value.trim()) 
        document.getElementById('certName').textContent = `"[Name: ${ document.getElementById('certNameIn').value.trim() }]",`
    else document.getElementById('certName').textContent = ''
 
    if (document.getElementById('certAgeIn').value.trim()) 
        document.getElementById('certAge').textContent = `"[Age: ${ document.getElementById('certAgeIn').value.trim() }]",`
    else document.getElementById('certAge').textContent = ''
 
    if (document.getElementById('certConditionIn').value.trim()) 
        document.getElementById('certCondition').textContent = `"[Condition: ${ document.getElementById('certConditionIn').value.trim() }]",`
    else document.getElementById('certCondition').textContent = ''
 
    if (document.getElementById('certProfessionIn').value.trim()) 
        document.getElementById('certProfession').textContent = `"[Profession: ${ document.getElementById('certProfessionIn').value.trim() }]",`
    else document.getElementById('certProfession').textContent = ''
 
    if (document.getElementById('certResidenceIn').value.trim()) 
        document.getElementById('certResidence').textContent = `"[Residence: ${ document.getElementById('certResidenceIn').value.trim() }]",`
    else document.getElementById('certResidence').textContent = ''
 
    if (document.getElementById('certFNameIn').value.trim()) 
        document.getElementById('certFName').textContent = `"[FName: ${ document.getElementById('certFNameIn').value.trim() }]",`
    else document.getElementById('certFName').textContent = ''
 
    if (document.getElementById('certFOccIn').value.trim()) 
        document.getElementById('certFOcc').textContent = `"[FOcc: ${ document.getElementById('certFOccIn').value.trim() }]",`
    else document.getElementById('certFOcc').textContent = ''
 
    if (document.getElementById('certByIn').value.trim()) 
        document.getElementById('certBy').textContent = `"[By: ${ document.getElementById('certByIn').value.trim() }]",`
    else document.getElementById('certBy').textContent = ''
 
    if (document.getElementById('certSignedIn').value.trim()) 
        document.getElementById('certSigned').textContent = `"[Signatures: ${ document.getElementById('certSignedIn').value.trim() }]",`
    else document.getElementById('certSigned').textContent = ''
 
    if (document.getElementById('certWitnessIn').value.trim()) 
        document.getElementById('certWitness').textContent = `"[Witnesses: ${ document.getElementById('certWitnessIn').value.trim() }]",`
    else document.getElementById('certWitness').textContent = ''
 

    if (document.getElementById('certTextIn').value.trim()) document.getElementById('certText').textContent = `"text: ${ document.getElementById('certTextIn').value.trim() }",` 
    else document.getElementById('certText').textContent = ''
    
    


// index
    if (document.getElementById('indexSourceIn').value.trim() || document.getElementById('indexSourceURLIn').value.trim()) document.getElementById('indexSource').textContent = `\n"SOURCE: ${ document.getElementById('indexSourceIn').value.trim() } ${ document.getElementById('indexSourceURLIn').value }",` 
    else document.getElementById('indexSource').textContent = ''
      
    if (document.getElementById('indexTextIn').value.trim()) document.getElementById('indexText').textContent = `"text: ${ document.getElementById('indexTextIn').value.trim() }",` 
    else document.getElementById('indexText').textContent = ''
    
    if (document.getElementById('indexPastedIn').value.trim()) document.getElementById('indexPasted').textContent = 
    addQuotesTo(document.getElementById('indexPastedIn').value.trim())
    else document.getElementById('indexPasted').textContent = ''






// parish record
    if (document.getElementById('parishImageIn').value.trim()) document.getElementById('parishImage').textContent = `"record: Parish record  url:records/${ document.getElementById('parishImageIn').value.trim() }",` 
    else document.getElementById('parishImage').textContent = ''
    
    if (document.getElementById('parishSourceIn').value.trim() || document.getElementById('parishSourceURLIn').value.trim()) document.getElementById('parishSource').textContent = `\n"SOURCE: ${ document.getElementById('parishSourceIn').value.trim() } ${ document.getElementById('parishSourceURLIn').value }",` 
    else document.getElementById('parishSource').textContent = ''

    if (document.getElementById('parishOfIn').value.trim()) 
        document.getElementById('parishOf').textContent = `"[Parish: ${ document.getElementById('parishOfIn').value.trim() }]",`
    else document.getElementById('parishOf').textContent = ''
 
    if (document.getElementById('parishGroomIn').value.trim()) 
        document.getElementById('parishGroom').textContent = `"[Groom: ${ document.getElementById('parishGroomIn').value.trim() }]",`
    else document.getElementById('parishGroom').textContent = ''
 
    if (document.getElementById('parishGDetailsIn').value.trim()) 
        document.getElementById('parishGDetails').textContent = `"[GroomDetails: ${ document.getElementById('parishGDetailsIn').value.trim() }]",`
    else document.getElementById('parishGDetails').textContent = ''
 
    if (document.getElementById('parishBrideIn').value.trim()) 
        document.getElementById('parishBride').textContent = `"[Bride: ${ document.getElementById('parishBrideIn').value.trim() }]",`
    else document.getElementById('parishBride').textContent = ''
 
    if (document.getElementById('parishBDetailsIn').value.trim()) 
        document.getElementById('parishBDetails').textContent = `"[BrideDetails: ${ document.getElementById('parishBDetailsIn').value.trim() }]",`
    else document.getElementById('parishBDetails').textContent = ''
 
    if (document.getElementById('parishByIn').value.trim()) 
        document.getElementById('parishBy').textContent = `"[By: ${ document.getElementById('parishByIn').value.trim() }]",`
    else document.getElementById('parishBy').textContent = ''
 
    if (document.getElementById('parishWhenIn').value.trim()) 
        document.getElementById('parishWhen').textContent = `"[When: ${ document.getElementById('parishWhenIn').value.trim() }]",`
    else document.getElementById('parishWhen').textContent = ''
 
    if (document.getElementById('parishSignedIn').value.trim()) 
        document.getElementById('parishSigned').textContent = `"[Signatures: ${ document.getElementById('parishSignedIn').value.trim() }]",`
    else document.getElementById('parishSigned').textContent = ''
 
    if (document.getElementById('parishWitnessesIn').value.trim()) 
        document.getElementById('parishWitnesses').textContent = `"[Witnesses: ${ document.getElementById('parishWitnessesIn').value.trim() }]",`
    else document.getElementById('parishWitnesses').textContent = ''
 

    if (document.getElementById('parishTextIn').value.trim()) document.getElementById('parishText').textContent = `"text: ${ document.getElementById('parishTextIn').value.trim() }",` 
    else document.getElementById('parishText').textContent = ''
    
    





// second source
    if (document.getElementById('secondSourceIn').value.trim() || document.getElementById('secondSourceURLIn').value.trim())
        document.getElementById('secondSource').textContent = `\n"SOURCE: ${ document.getElementById('secondSourceIn').value.trim() }  ${ document.getElementById('secondSourceURLIn').value.trim() }",` 
    else document.getElementById('secondSource').textContent = ''
 
    if (document.getElementById('secondImageIn').value.trim()) 
        document.getElementById('secondImage').textContent = `"record: Marriage url:records/${ document.getElementById('secondImageIn').value.trim() }${ document.getElementById('secondImageExtIn').value.trim() }",`
    else document.getElementById('secondImage').textContent = ''

    if (document.getElementById('secondPastedIn').value.trim()) 
        document.getElementById('secondPasted').textContent = addQuotesTo(document.getElementById('secondPastedIn').value.trim())
    else document.getElementById('secondPasted').textContent = ''
 
    if (document.getElementById('secondTextIn').value.trim()) 
        document.getElementById('secondText').textContent = `"text: ${ document.getElementById('secondTextIn').value.trim() }",`
    else document.getElementById('secondText').textContent = ''





    // page build data
    if (document.getElementById('marrPlaceIn').value.trim()) document.getElementById('place').textContent = `"place: ${ document.getElementById('marrPlaceIn').value.trim() }",` 
    else document.getElementById('place').textContent = ''

    if (document.getElementById('groomIn').value.trim()) document.getElementById('groom').textContent = `"groom: ${ document.getElementById('groomIn').value.trim() }",` 
    else document.getElementById('groom').textContent = ''

    if (document.getElementById('gidIn').value.trim()) document.getElementById('gid').textContent = `"gid: ${ document.getElementById('gidIn').value.trim() }",` 
    else document.getElementById('gid').textContent = ''

    if (document.getElementById('brideIn').value.trim()) document.getElementById('bride').textContent = `"bride: ${ document.getElementById('brideIn').value.trim() }",` 
    else document.getElementById('bride').textContent = ''

    if (document.getElementById('bidIn').value.trim()) document.getElementById('bid').textContent = `"bid: ${ document.getElementById('bidIn').value.trim() }",` 
    else document.getElementById('bid').textContent = ''

    if (document.getElementById('gageIn').value.trim()) document.getElementById('gage').textContent = `"gage: ${ document.getElementById('gageIn').value.trim() }",` 
    else document.getElementById('gage').textContent = ''

    if (document.getElementById('bageIn').value.trim()) document.getElementById('bage').textContent = `"bage: ${ document.getElementById('bageIn').value.trim() }",` 
    else document.getElementById('bage').textContent = ''

    if (document.getElementById('gparishIn').value.trim()) document.getElementById('gparish').textContent = `"gparish: ${ document.getElementById('gparishIn').value.trim() }",` 
    else document.getElementById('gparish').textContent = ''

    if (document.getElementById('bparishIn').value.trim()) document.getElementById('bparish').textContent = `"bparish: ${ document.getElementById('bparishIn').value.trim() }",` 
    else document.getElementById('bparish').textContent = ''

    if (document.getElementById('gstatusIn').value.trim()) document.getElementById('gstatus').textContent = `"gstatus: ${ document.getElementById('gstatusIn').value.trim() }",` 
    else document.getElementById('gstatus').textContent = ''

    if (document.getElementById('bstatusIn').value.trim()) document.getElementById('bstatus').textContent = `"bstatus: ${ document.getElementById('bstatusIn').value.trim() }",` 
    else document.getElementById('bstatus').textContent = ''

    if (document.getElementById('goccIn').value.trim()) document.getElementById('gocc').textContent = `"gocc: ${ document.getElementById('goccIn').value.trim() }",` 
    else document.getElementById('gocc').textContent = ''

    if (document.getElementById('boccIn').value.trim()) document.getElementById('bocc').textContent = `"bocc: ${ document.getElementById('boccIn').value.trim() }",` 
    else document.getElementById('bocc').textContent = ''



    if (document.getElementById('gfatherIn').value.trim()) document.getElementById('gfather').textContent = `"gfather: ${ document.getElementById('gfatherIn').value.trim() }",` 
    else document.getElementById('gfather').textContent = ''

    if (document.getElementById('gfidIn').value.trim()) document.getElementById('gfid').textContent = `"gfid: ${ document.getElementById('gfidIn').value.trim() }",` 
    else document.getElementById('gfid').textContent = ''

    if (document.getElementById('gfoccIn').value.trim()) document.getElementById('gfocc').textContent = `"gfocc: ${ document.getElementById('gfoccIn').value.trim() }",` 
    else document.getElementById('gfocc').textContent = ''

    if (document.getElementById('bfatherIn').value.trim()) document.getElementById('bfather').textContent = `"bfather: ${ document.getElementById('bfatherIn').value.trim() }",` 
    else document.getElementById('bfather').textContent = ''

    if (document.getElementById('bfidIn').value.trim()) document.getElementById('bfid').textContent = `"bfid: ${ document.getElementById('bfidIn').value.trim() }",` 
    else document.getElementById('bfid').textContent = ''

    if (document.getElementById('bfoccIn').value.trim()) document.getElementById('bfocc').textContent = `"bfocc: ${ document.getElementById('bfoccIn').value.trim() }",` 
    else document.getElementById('bfocc').textContent = ''


    if (document.getElementById('witnessesIn').value.trim()) document.getElementById('witnesses').textContent = `"witnesses: ${ document.getElementById('witnessesIn').value.trim() }",` 
    else document.getElementById('witnesses').textContent = ''

    if (document.getElementById('byIn').value.trim()) document.getElementById('by').textContent = `"by: ${ document.getElementById('byIn').value.trim() }",` 
    else document.getElementById('by').textContent = ''

    /*
    if (document.getElementById('lengthIn').value.trim()) document.getElementById('length').textContent = `"length: ${ document.getElementById('lengthIn').value.trim() }",` 
    else document.getElementById('length').textContent = ''
    */
    

    if (document.getElementById('gpsPlace').value.trim() || document.getElementById('gpsCoords').value.trim()) {
        document.getElementById('gps').textContent = `"gps: ${ document.getElementById('gpsPlace').value.trim() }` 
        if (document.getElementById('gpsCoords').value.trim()) document.getElementById('gps').textContent += ` https:\u002F/maps.google.com/maps?q=${ document.getElementById('gpsCoords').value.trim() }` 
        document.getElementById('gps').textContent += `",`
        }
    else document.getElementById('gps').textContent = ''
    


    }

</script>
<style>
#draft p {
	margin: 0;
	}
#references {
	font-size: 80%;
	float: right;
    margin-block-start: 4rem;
	}
#references p {
	margin: 0;
	}
#references h3 {
	margin-bottom: 0;
	}
.redo { font-size:120%; margin-left: 1em; cursor: pointer; }
.copy { margin-left: 2em; cursor: pointer; background-color: rgba(107,167,227,1.00); color: white; border-radius: 5px; }
.copy:hover { background-color: rgba(11,124,236,1.00); color: white; border-radius: 5px; }
.heading { font-weight:bold; padding-top: 2em; font-size: 110%; }
</style>
</head>



<body>
<div id="out">
  <div id="banner">
    <div id="pagetitle">Marriage record entry<br>
    </div>
  </div>
  <div id="subbanner">
    <div><a href="birthentry.html">Birth</a> • <a href="censusentry.html">Census</a> • <a href="dthentry.html">Death</a></div>
  </div>
  <div id="subsubbanner">
    <div>
      <input type="text" id="idIn" placeholder="Add ID, then click on 🔁."
        	onInput="draftResult()">
      <input type="text" id="spouseIdIn" placeholder="Add ID of spouse."
        	onInput="draftResult()">
            <span class="redo" onClick="autoPropagate(document.getElementById('idIn').value)" title="Find IDs of relatives.">🔁</span>  <span class="redo"><a id="clearAll" href="">❌</a></span>
    </div>
  </div>
  <div id="main">    
      <div id="references">
      </div>

<p style="margin: 0 4rem; font-style: italic; font-size: 85%;">The  fields in the expanding headings allow for capture of the available source information, and on the person summary page that information can be revealed using a toggle switch. The fields under "Data for building the page"  contain text snippets that will be used to build the person's summary page. The data is derived from the sources, and sometimes elsewhere, but written so that it flows well when inserted into the person's summary page.</p>




      
<table id="census" style="margin: 0 2em;">
</table>





     


<details>
<summary class="heading">Marriage index</summary>
<table>
<tr>
<td>Source:</td>
<td><input type="text" id="indexSourceIn" class="sourceBox"
placeholder="Source name"
onInput="draftResult()">
<input type="text" id="indexSourceURLIn" class="sourceBox"
placeholder="Source URL"
onInput="draftResult()">
</td>
</tr>
<tr>
<td>Paste:</td>
<td><textarea id="indexPastedIn" class="tallPasteBox"
placeholder="Copy-paste lists here from transcript pages. (Only lines with a colon are captured.)"
onInput="draftResult()"></textarea>
</td>
</tr>
<tr>
<td>Text:</td>
<td><textarea id="indexTextIn" class="textBox" 
placeholder="Copy-paste or write textual information here."
onInput="draftResult()"></textarea>
</td>
</tr>
</table>
</details>







<details>
<summary class="heading">Marriage certificate</summary>
<table>
<tr>
<td>Source:</td>
<td><input type="text" id="certSourceIn" class="sourceBox"
    placeholder="Source name"
    onInput="draftResult()">
    <input type="text" id="certSourceURLIn" class="sourceBox"
    placeholder="Source URL"
    onInput="draftResult()">
</td>
</tr>
<tr>
<td>Image:</td>
<td><input type="text" id="certImageIn" class="imageBox" 
    placeholder="File name of image in 'records' folder (no ext)"
    onInput="draftResult()">
    <input type="text" id="certImageExtIn" value=".jpg" class="extBox" 
    placeholder="Extension"
    onInput="draftResult()">
</td>
</tr>
<tr>
  <td>At:</td>
  <td><input type="text" id="certAtIn" class="wideInputBox"
          placeholder="Information after 'Marriage solemnized at...'"
          onInput="draftResult()"></td>
</tr>
<tr>
  <td>When married:</td>
  <td><input type="text" id="certWhenIn" class="wideInputBox"
          placeholder="Information after 'Marriage solemnized at...'"
          onInput="draftResult()"></td>
</tr>
<tr>
  <td>Name:</td>
<td><input type="text" id="certNameIn" class="wideInputBox"
          placeholder="Groom; Bride"
          onInput="draftResult()"></td>
</tr>
<tr>
  <td>Age:</td>
  <td><input type="text" id="certAgeIn" class="wideInputBox"
          placeholder="Groom; Bride"
          onInput="draftResult()"></td>
</tr>
<tr>
  <td>Condition:</td>
  <td><input type="text" id="certConditionIn" class="wideInputBox"
          placeholder="Groom; Bride"
          onInput="draftResult()"></td>
</tr>
<tr>
  <td>Rank/profession:</td>
  <td><input type="text" id="certProfessionIn" class="wideInputBox"
          placeholder="Groom; Bride"
          onInput="draftResult()"></td>
</tr>
<tr>
  <td>Residence:</td>
  <td><input type="text" id="certResidenceIn" class="wideInputBox"
          placeholder="Groom; Bride"
          onInput="draftResult()"></td>
</tr>
<tr>
  <td>Father:</td>
<td><input type="text" id="certFNameIn" class="wideInputBox"
          placeholder="Groom; Bride"
          onInput="draftResult()">
<span class="accept" title="Add to birth certificate data." onClick="document.getElementById('certFName').textContent = '&quot;[Father: '+document.getElementById('certFNameIn').value+']&quot;,'">✔</span></td>
</tr>
<tr>
  <td>Father occupation:</td>
  <td><input type="text" id="certFOccIn" class="wideInputBox"
          placeholder="Groom; Bride"
          onInput="draftResult()"/>
          <span class="copy" title="Add to metadata." onClick="document.getElementById('focc').textContent = '&quot;focc: '+document.getElementById('certOccIn').value+'&quot;,'; document.getElementById('foccIn').value = document.getElementById('certOccIn').value;">✚</span></td>
</tr>
<tr>
  <td>By:</td>
  <td><input type="text" id="certByIn" class="wideInputBox"
          placeholder="Banns, licence, etc."
          onInput="draftResult()">
</td>
</tr>
<tr>
  <td>Signatures:</td>
  <td><input type="text" id="certSignedIn" class="wideInputBox"
          placeholder="Groom signature/mark; Bride signature/mark"
          onInput="draftResult()">
</td>
</tr>
<tr>
  <td>Witnesses:</td>
  <td><input type="text" id="certWitnessIn" class="wideInputBox"
          placeholder="Comma-separated names"
          onInput="draftResult()">
</td>
</tr>
<tr>
<td>Text:</td>
<td><textarea id="certTextIn" class="textBox" 
    placeholder="Copy-paste or write textual information here.)"
    onInput="draftResult()"></textarea>
</td>
</tr>
</table>
</details>
















<details>
<summary class="heading">Parish record</summary>
<table>
<tr>
<td>Source:</td>
<td><input type="text" id="parishSourceIn" class="sourceBox"
    placeholder="Source name"
    onInput="draftResult()">
<input type="text" id="parishSourceURLIn" class="sourceBox"
    placeholder="Source URL"
    onInput="draftResult()">
</td>
</tr>
<tr>
<td>Image:</td>
<td><input type="text" id="parishImageIn" class="imageBox" 
    placeholder="File name of image in 'records' folder (no ext)"
    onInput="draftResult()">
<input type="text" id="parishImageExtIn" value=".jpg" class="extBox" 
    placeholder="Extension"
    onInput="draftResult()">
</td>
</tr>
<tr>
  <td>Parish:</td>
  <td><input type="text" id="parishOfIn" class="wideInputBox"
          placeholder="[In the Parish of] ..."
          onInput="draftResult()"></td>
</tr>
<tr>
  <td>Groom:</td>
  <td><input type="text" id="parishGroomIn" class="wideInputBox"
          placeholder="Groom name"
          onInput="draftResult()"></td>
</tr>
<tr>
  <td>Groom details:</td>
  <td><input type="text" id="parishGDetailsIn" class="wideInputBox"
          placeholder="[of]..."
          onInput="draftResult()"></td>
</tr>
<tr>
  <td>Bride:</td>
  <td><input type="text" id="parishBrideIn" class="wideInputBox"
          placeholder="Bride name"
          onInput="draftResult()"></td>
</tr>
<tr>
  <td>Bride details:</td>
  <td><input type="text" id="parishBDetailsIn" class="wideInputBox"
          placeholder="[of]..."
          onInput="draftResult()"></td>
</tr>
<tr>
  <td>By:</td>
  <td><input type="text" id="parishByIn" class="wideInputBox"
          placeholder="Banns, licence, etc."
          onInput="draftResult()">
</td>
</tr>
<tr>
  <td>When:</td>
  <td><input type="text" id="parishWhenIn" class="wideInputBox"
          placeholder="Date of marriage"
          onInput="draftResult()">
</td>
</tr>
<tr>
  <td>Signatures:</td>
  <td><input type="text" id="parishSignedIn" class="wideInputBox"
          placeholder="Groom signature/mark; Bride signature/mark"
          onInput="draftResult()">
</td>
</tr>
<tr>
  <td>Witnesses:</td>
  <td><input type="text" id="parishWitnessesIn" class="wideInputBox"
          placeholder="Comma-separated names"
          onInput="draftResult()">
</td>
</tr>
<tr>
<td>Text:</td>
<td><textarea id="parishTextIn" class="textBox" 
    placeholder="Copy-paste or write any other information here."
    onInput="draftResult()"></textarea>
</td>
</tr>
</table>
</details>





<details>
<summary class="heading">Other source</summary>
<table>
<tr>
<td>Source:</td>
<td><input type="text" id="secondSourceIn" class="sourceBox"
    placeholder="Source name"
    onInput="draftResult()">
    <input type="text" id="secondSourceURLIn" class="sourceBox"
    placeholder="Source URL"
    onInput="draftResult()">
    </td>
</tr>
<tr>
<td>Image:</td>
<td><input type="text" id="secondImageIn" class="imageBox" 
    placeholder="File name of image in 'records' folder (no ext)"
    onInput="draftResult()">
    <input type="text" id="secondImageExtIn" value=".jpg" class="extBox" 
    placeholder="Extension"
    onInput="draftResult()">
    </td>
</tr>
<tr>
<td>Paste:</td>
<td><textarea id="secondPastedIn" class="tallPasteBox"
    placeholder="Copy-paste lists here from transcript pages. (Only lines with a colon are captured.)"
    onInput="draftResult()"></textarea>
    </td>
</tr>
<tr>
<td>Text:</td>
<td><textarea id="secondTextIn" class="textBox" 
    placeholder="Copy-paste or write textual information here.)"
    onInput="draftResult()"></textarea>
    </td>
</tr>
</table>
</details>












<table style="margin-inline-start: 2rem; color: teal;">
<tr>
<td colspan="2" class="heading">Data for building the page</td></tr>
<tr>
  <tr>
    <td>Year:</td>
    <td><input type="text" id="yearIn" style="color:red; width:200px;" placeholder="Fill this in." onInput="draftResult()"/></td>
   </tr>
   
  <tr>
    <td>Date:</td>
    <td><input type="text" id="dateIn" style="color:red; width:200px;" placeholder="Fill this in." onInput="draftResult()"/></td>
  </tr>
  
        <td>Place:</td>
        <td><input type="text" id="marrPlaceIn" class="wideInputBox" onInput="draftResult()"/></td>
      </tr>
      <tr>
        <td>Groom:</td>
        <td><input type="text" id="groomIn" class="wideInputBox" onInput="draftResult()"/></td>
      </tr>
      <tr>
        <td>Groom id:</td>
        <td><input type="text" id="gidIn" class="wideInputBox" onInput="draftResult()"/></td>
      </tr>
      <tr>
        <td>Bride:</td>
        <td><input type="text" id="brideIn" class="wideInputBox" onInput="draftResult()"/></td>
      </tr>
      <tr>
        <td>Bride id:</td>
        <td><input type="text" id="bidIn" class="wideInputBox" onInput="draftResult()"/></td>
      </tr>
      <tr>
        <td>Groom age:</td>
        <td><input type="text" id="gageIn" onInput="draftResult()"/></td>
      </tr>
      <tr>
        <td>Bride age:</td>
        <td><input type="text" id="bageIn" onInput="draftResult()"/></td>
      </tr>
      <tr>
        <td>Groom residence:</td>
        <td><input type="text" id="gparishIn" class="wideInputBox" onInput="draftResult()"/></td>
      </tr>
      <tr>
        <td>Bride residence:</td>
        <td><input type="text" id="bparishIn" class="wideInputBox" onInput="draftResult()"/></td>
      </tr>
      <tr>
        <td>Groom status:</td>
        <td><input type="text" id="gstatusIn" onInput="draftResult()"/></td>
      </tr>
      <tr>
        <td>Bride status:</td>
        <td><input type="text" id="bstatusIn" onInput="draftResult()"/></td>
      </tr>
      <tr>
        <td>Groom occupation:</td>
        <td><input type="text" id="goccIn" class="wideInputBox" onInput="draftResult()"/></td>
      </tr>
      <tr>
        <td>Bride occupation:</td>
        <td><input type="text" id="boccIn" class="wideInputBox" onInput="draftResult()"/></td>
      </tr>


      <tr>
        <td>Groom father:</td>
        <td><input type="text" id="gfatherIn" class="wideInputBox" onInput="draftResult()"/></td>
      </tr>
      <tr>
        <td>Groom father id:</td>
        <td><input type="text" id="gfidIn" class="wideInputBox" onInput="draftResult()"/></td>
      </tr>
      <tr>
        <td>Groom father occ:</td>
        <td><input type="text" id="gfoccIn" class="wideInputBox" onInput="draftResult()"/></td>
      </tr>
      <tr>
        <td>Bride father:</td>
        <td><input type="text" id="bfatherIn" class="wideInputBox" onInput="draftResult()"/></td>
      </tr>
      <tr>
        <td>Bride father id:</td>
        <td><input type="text" id="bfidIn" class="wideInputBox" onInput="draftResult()"/></td>
      </tr>
       <tr>
        <td>Bride father occ:</td>
        <td><input type="text" id="bfoccIn" class="wideInputBox" onInput="draftResult()"/></td>
      </tr>
       <tr>
        <td>Witnesses:</td>
        <td><input type="text" id="witnessesIn" class="wideInputBox" onInput="draftResult()"/></td>
      </tr>
       <tr>
        <td>By:</td>
        <td><input type="text" id="byIn" onInput="draftResult()"/></td>
      </tr>
       <!--tr>
        <td>Length of marr:</td>
        <td><input type="text" id="lengthIn" class="wideInputBox" onInput="draftResult()"/></td>
      </tr-->



      <tr>
        <td>GPS:</td>
        <td><select id="gpsList" onChange="
            document.getElementById('gpsPlace').value=this.value.split(':')[0]
            document.getElementById('gpsCoords').value=this.value.split(':')[1]
            "></select></td>
        </tr>


      <tr>
        <td>&nbsp;</td>
        <td>
            <input type="text" id="gpsPlace" placeholder="Name of location" class="halfInputBox" onInput="draftResult()" onChange="draftResult()">
            <input type="text" id="gpsCoords" placeholder="Comma-separated coordinates" class="halfInputBox" onInput="draftResult()" onChange="draftResult()">
            </td>
      </tr>
      <tr>
        <td>Notes:</td>
        <td><textarea id="censusNotes" onInput="makeNotes(this.value,'note')"></textarea></td>
      </tr>
      <tr>
        <td>FNotes:</td>
        <td><textarea id="censusFNotes" onInput="makeNotes(this.value,'fnote')"></textarea></td>
      </tr>
      <tr>
        <td>Discussion: </td>
        <td><textarea id="censusDisc" onInput="makeNotes(this.value,'discussion')"></textarea></td>
      </tr>
   </table>
   
   
   
   <p class="" style="margin: 4rem 0 0 2rem; font-style:italic; color: teal;">When all the data is entered, copy the text below to the db.js file, under 'recordData'.</p>
   
   
   <div id="draft" style="margin:2rem; color: brown;">
    <div id="start">marriages: {</div>
      <div id="spouseId">: [</div>

      <div id="year"></div>
      <div id="date"></div>
      <div id="place"></div>
      <div id="gps"></div>
      <div id="id"></div>
      <div id="groom"></div>
      <div id="gid"></div>
      <div id="bride"></div>
      <div id="bid"></div>
      <div id="gage"></div>
      <div id="bage"></div>
      <div id="gparish"></div>
      <div id="bparish"></div>
      <div id="gstatus"></div>
      <div id="bstatus"></div>
      <div id="gocc"></div>
      <div id="bocc"></div>
      <div id="occ"></div>
     
      <div id="gfather"></div>
      <div id="gfid"></div>
      <div id="gfocc"></div>
      <div id="bfather"></div>
      <div id="bfid"></div>
      <div id="bfocc"></div>
      
      <div id="witnesses"></div>
      <div id="by"></div>
      <div id="length"></div>
      
            
    <!-- certificate -->
    <div id="certSource" style="white-space: pre;"></div>
    <div id="certImage"></div>
    <div id="certAt"></div>
    <div id="certWhen"></div>
    <div id="certName"></div>
    <div id="certAge"></div>
    <div id="certCondition"></div>
    <div id="certProfession"></div>
    <div id="certResidence"></div>
    <div id="certFName"></div>
    <div id="certFOcc"></div>
    <div id="certBy"></div>
    <div id="certSigned"></div>
    <div id="certWitness"></div>
    <div id="certText"></div>
      
            
    <!-- parish record -->
    <div id="parishSource" style="white-space: pre;"></div>
    <div id="parishImage"></div>
    <div id="parishOf"></div>
    <div id="parishGroom"></div>
    <div id="parishGDetails"></div>
    <div id="parishBride"></div>
    <div id="parishBDetails"></div>
    <div id="parishBy"></div>
    <div id="parishWhen"></div>
    <div id="parishSigned"></div>
    <div id="parishWitnesses"></div>
    <div id="parishText"></div>
 

      <!-- index -->
      <div id="indexSource" style="white-space: pre;"></div>
      <div id="indexPasted" style="white-space:pre-line"></div>
      <div id="indexText"></div>
      
      
      <!-- 2nd source -->
      <div id="secondSource" style="white-space: pre;"></div>
      <div id="secondImage"></div>
      <div id="secondPasted" style="white-space:pre-line"></div>
      <div id="secondText"></div>


      <div id="note"></div>
      <div id="fnote"></div> 
     <div id="discussion">&quot;discussion: &quot;</div>
      <div id="arrayEnd">]</div>
      <div id="end">}</div>
      </div>
      
      
    <pre id="places">
    </pre>
  </div>
</div>

<script>
document.getElementById('clearAll').href = document.location
</script>
</body>
</html>